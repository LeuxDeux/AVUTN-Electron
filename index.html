<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Electron App</title>
</head>
<body>
  <!--img id="qrCode" src="https://storage.googleapis.com/qrimgbotutn.appspot.com/path/to/upload/out.png?GoogleAccessId=firebase-adminsdk-439m4%40qrimgbotutn.iam.gserviceaccount.com&Expires=1735700400&Signature=ELO3vlsaGa%2BWLb1PduS5AnYZIgWBrT5npZMcRHQQkx%2FM2XmhGN9G82SKE4Ku7fwwlgGgOCx%2BK5YPARqzRmvUHNOJEsH3jwLUGAOGpfBo%2FEKgQ8x4Z23qupFLCtmZubvcLmD%2Fm41IcSUOT64qBZPV84X%2FfQt8VC4h0ZzzGG4CvshVCqLvnagA%2FbJNZgO%2FN0ZlpA0Rq83V5inNJQZ8im9h1brQhPBFWB8oGOY2B6NKWeiAZwkkaXkVs9bf4QBPpUos5I9Hm%2B2f3%2BeSFPiYwUS32P%2FcYnzEAvvZXx8Ji10PkUJvB4SMChTIT5i5%2BgLi34SaS9zUr3X0wKMuYMxufJydGg%3D%3D" alt="QR Code"-->
  <img id="qrCode" src="./out.png">
  <button onclick="startApp()">Iniciar</button>
  <button onclick="stopApp()">Detener</button>
  <button id="openRemitentes">Abrir remitentes</button>
  <script src="index.js"></script>
  <script>
    //funcion que cada 3s recarga la imagen 
    /*function reloadImage() { //original
      const timestamp = Date.now();
      document.getElementById('qrCode').src = `out.png?timestamp=${timestamp}`;
    }*/
    function reloadImage() { //pruebas con electron
    const timestamp = Date.now();
    let imagePath = "out.png";

    // Agrega el timestamp a la ruta
    imagePath += `?timestamp=${timestamp}`;

    // Carga la imagen en el elemento img
    document.getElementById('qrCode').src = imagePath;
  }
  /*function reloadImage() {
    location.reload();
}*/
    setInterval(reloadImage, 15000);
    //para cambiar entre pestañas
    document.getElementById('openRemitentes').addEventListener('click', () => {
      // Envía un mensaje al proceso principal para que abra la ventana de remitentes
      ipcRenderer.send('open-remitentes-window');
      
    });
  </script>
</body>
</html>